(()=>{function e(e){const t=document.getElementById("notification");t.textContent=e,t.style.display="block",setTimeout((()=>{t.style.display="none"}),2e3)}!async function(){const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});await chrome.scripting.executeScript({target:{tabId:e.id},files:["content.js"]});const t=await chrome.tabs.sendMessage(e.id,{action:"export",format:"pdf"});document.getElementById("preview-content").innerHTML=t.content}(),document.getElementById("copy-md").addEventListener("click",(async()=>{const[t]=await chrome.tabs.query({active:!0,currentWindow:!0});await chrome.scripting.executeScript({target:{tabId:t.id},files:["content.js"]});const n=await chrome.tabs.sendMessage(t.id,{action:"export",format:"markdown"});await navigator.clipboard.writeText(n.content),e("Markdown copied to clipboard!")})),document.getElementById("copy-html").addEventListener("click",(async()=>{const[t]=await chrome.tabs.query({active:!0,currentWindow:!0}),n=document.createRange();n.selectNode(document.getElementById("preview-content"));const o=window.getSelection();o.removeAllRanges(),o.addRange(n),document.execCommand("copy"),o.removeAllRanges(),e("Content copied to clipboard!")})),document.getElementById("export-md").addEventListener("click",(async()=>{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});await chrome.scripting.executeScript({target:{tabId:e.id},files:["content.js"]});const t=await chrome.tabs.sendMessage(e.id,{action:"export",format:"markdown"}),n=new Blob([t.content],{type:"text/markdown"}),o=URL.createObjectURL(n);chrome.downloads.download({url:o,filename:"twitter-thread.md",saveAs:!0})}))})();